### DOM & 虚拟DOM

### 真实操作DOM 的代价

```
1，传统开发模式中，原生JS或JQ操作DOM时候，浏览器会从DOM树开始从头到尾执行一遍。

2，假如在一次操作中，我们需要更新10个DOM节点，浏览器会执行10次，浏览器会白白浪费了性能

3，操作DOM的代价是昂贵的，频繁操作还是会出现页面卡顿，影响用户体验
```

### 出现了虚拟DOM

**虚拟DOM就是为了解决浏览器性能问题而被设计出来的**

```
现在若一次操作中有10次更新DOM的动作，
虚拟DOM不会立即操作DOM，
而是将这10次更新的diff内容保存到本地一个【JS对象】中，
最终将这个JS对象一次性attch到DOM树上，再进行后续操作

所以，用【JS对象】 来模拟DOM节点的好处是，页面的更新可以先全部反映在JS对象上，
操作内存中的JS对象的速度显然要更快
更新完成后，再将最终的JS对象映射成真实的DOM，交给浏览器绘制
```

### 虚拟DOM和实际DOM比较-diff

```
我们会有两个虚拟DOM（js对象，new/old进行比较diff），
new虚拟DOM、old虚拟DOM会映射成实际DOM，通过DOM fragment操作给浏览器渲染

当修改new虚拟DOM，会把newDOM和oldDOM通过diff算法比较，得出diff结果数据表，

再通过DOM fragment更新到浏览器DOM中
```


> 最终用js的DOM fragment来操作dom进行浏览器DOM一次性更新



